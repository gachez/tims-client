{"ast":null,"code":"var _jsxFileName = \"/home/gachez/EnterpriseSystems/tims-client/src/index/App/UserDashboard.js\";\nimport React from 'react';\nimport './shared/Dashboard.css';\nimport { Link } from 'react-router-dom';\nimport HomeViewUser from './UserDashboard/HomeViewUser';\nimport TaskViewUser from './UserDashboard/TasksViewUser';\nimport ReportsViewUser from './UserDashboard/ReportsViewUser';\nimport { Col, Container, Row } from 'react-bootstrap';\nimport axios from 'axios';\nimport avatar from './shared/social-media-white.png';\nconst userAvatar = {\n  position: 'absolute',\n  top: '30rem',\n  display: 'grid',\n  gap: '16px'\n};\n\nclass UserDashboard extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isLoaded: false,\n      active: 'home',\n      borderActive: 'none',\n      tasks: [],\n      loggedInUSer: {},\n      getUsersRequest: axios.get(\"/api/v1/admin/assigned_tasks\", {\n        headers: {\n          'auth-token': `${localStorage.getItem('auth-token')}`\n        }\n      }),\n      getTasksRequest: axios.get(\"/api/v1/admin/get_users\", {\n        headers: {\n          'auth-token': `${localStorage.getItem('auth-token')}`\n        }\n      })\n    };\n\n    this.setPage = page => {\n      this.setState({\n        active: page\n      });\n    };\n\n    this.determineActivePage = page => {\n      switch (page) {\n        case 'home':\n          return /*#__PURE__*/React.createElement(HomeViewUser, {\n            loadPage: this.setPage,\n            userTasks: this.state.tasks,\n            userLoggedIn: this.state.loggedInUSer[0],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 24\n            }\n          });\n\n        case 'tasks':\n          return /*#__PURE__*/React.createElement(TaskViewUser, {\n            loadPage: this.setPage,\n            userTasks: this.state.tasks,\n            userLoggedIn: this.state.loggedInUSer[0],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 24\n            }\n          });\n\n        case 'reports':\n          return /*#__PURE__*/React.createElement(ReportsViewUser, {\n            loadPage: this.setPage,\n            userTasks: this.state.tasks,\n            userLoggedIn: this.state.loggedInUSer[0],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 24\n            }\n          });\n      }\n    };\n  }\n\n  componentDidMount() {\n    axios.all([this.state.getUsersRequest, this.state.getTasksRequest]).then(axios.spread((...responses) => {\n      this.setState({\n        isLoaded: true,\n        tasks: responses[0].data,\n        loggedInUSer: responses[1].data.filter(user => user.email.toLowerCase() === localStorage.getItem('userName')).map(user => user.username)\n      }); // use/access the results \n    })).catch(errors => {\n      // react on errors.\n      return errors;\n    });\n  }\n\n  render() {\n    console.log(this.state.loggedInUSer[0]);\n    return /*#__PURE__*/React.createElement(Container, {\n      className: \"Container\",\n      fluid: true,\n      style: {\n        padding: 0,\n        margin: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      style: {\n        padding: 0,\n        margni: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"sidebar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"brand-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, \"Information System v.1.0.0\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navigation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"home-menu\",\n      style: {\n        borderBottom: this.state.active === 'home' ? 'solid 1px rgba(255,255,255,0.6)' : 'none'\n      },\n      onClick: () => {\n        this.setState({\n          active: \"home\"\n        });\n        localStorage.setItem(\"page\", \"home\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, \"Home\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"user-management-menu\",\n      style: {\n        borderBottom: this.state.active === 'tasks' ? 'solid 1px rgba(255,255,255,0.6)' : 'none'\n      },\n      onClick: () => {\n        this.setState({\n          active: \"tasks\"\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, \"Task Management\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"tasks-menu\",\n      style: {\n        borderBottom: this.state.active === 'reports' ? 'solid 1px rgba(255,255,255,0.6)' : 'none'\n      },\n      onClick: () => {\n        this.setState({\n          active: \"reports\"\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 29\n      }\n    }, \"Reports\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: userAvatar,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: avatar,\n      width: \"24px\",\n      height: \"24px\",\n      alt: \"user avatar\",\n      style: {\n        margin: '.25rem'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 31\n      }\n    }), \" \", this.state.loggedInUSer[0]), /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 40\n      }\n    }, \"Log out\")))))), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      className: \"body-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }, this.determineActivePage(this.state.active)))));\n  }\n\n}\n\nexport default UserDashboard;","map":{"version":3,"sources":["/home/gachez/EnterpriseSystems/tims-client/src/index/App/UserDashboard.js"],"names":["React","Link","HomeViewUser","TaskViewUser","ReportsViewUser","Col","Container","Row","axios","avatar","userAvatar","position","top","display","gap","UserDashboard","Component","state","isLoaded","active","borderActive","tasks","loggedInUSer","getUsersRequest","get","headers","localStorage","getItem","getTasksRequest","setPage","page","setState","determineActivePage","componentDidMount","all","then","spread","responses","data","filter","user","email","toLowerCase","map","username","catch","errors","render","console","log","padding","margin","margni","borderBottom","setItem"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './shared/Dashboard.css';\nimport {Link} from 'react-router-dom';\nimport HomeViewUser from './UserDashboard/HomeViewUser';\nimport TaskViewUser from './UserDashboard/TasksViewUser';\nimport ReportsViewUser from './UserDashboard/ReportsViewUser';\nimport { Col, Container, Row } from 'react-bootstrap';\nimport axios from 'axios';\nimport avatar from './shared/social-media-white.png';\n\nconst userAvatar = {\n    position: 'absolute', \n    top: '30rem',\n    display: 'grid',\n    gap: '16px'\n  };\n\n\nclass UserDashboard extends React.Component {\n    state={\n        isLoaded: false,\n        active: 'home',\n        borderActive: 'none',\n        tasks: [],\n        loggedInUSer: {},\n        getUsersRequest: axios.get(\"/api/v1/admin/assigned_tasks\",  {\n            headers: {\n              'auth-token': `${localStorage.getItem('auth-token')}`\n            }\n          }),\n        getTasksRequest: axios.get(\"/api/v1/admin/get_users\",  {\n            headers: {\n              'auth-token': `${localStorage.getItem('auth-token')}`\n            }\n          })\n    }\n    \n    componentDidMount() {\n        axios.all([this.state.getUsersRequest, this.state.getTasksRequest]).then(axios.spread((...responses) => {\n            this.setState({\n                isLoaded: true,\n                tasks: responses[0].data,\n                loggedInUSer: responses[1].data.filter(user => user.email.toLowerCase() === localStorage.getItem('userName')).map(user => user.username)\n            })            // use/access the results \n          })).catch(errors => {\n            // react on errors.\n            return errors\n          })\n\n    }  \n\n    setPage = (page) => {\n        this.setState({\n            active: page\n        })\n    }\n\n\n    determineActivePage = (page) => {\n        switch(page) {\n            case 'home':\n                return <HomeViewUser loadPage={this.setPage} userTasks={this.state.tasks} userLoggedIn={this.state.loggedInUSer[0]} />\n\n            case 'tasks':\n                return <TaskViewUser loadPage={this.setPage} userTasks={this.state.tasks} userLoggedIn={this.state.loggedInUSer[0]} />\n\n            case 'reports': \n                return <ReportsViewUser loadPage={this.setPage} userTasks={this.state.tasks} userLoggedIn={this.state.loggedInUSer[0]}/>    \n                                \n          \n        }\n    }\n\n  \n\n    render() {\n        console.log(this.state.loggedInUSer[0] )\n        return(\n            <Container className=\"Container\" fluid={true} style={{ padding: 0, margin: 0}}>\n                  <Row style={{ padding: 0, margni: 0}}>\n                    <Col>\n                    <section className=\"sidebar\">\n                        <div id=\"brand-title\">Information System v.1.0.0</div>\n                        <div className=\"navigation\">\n                            <div id=\"home-menu\" \n                            style={{\n                                borderBottom: this.state.active === 'home' ? 'solid 1px rgba(255,255,255,0.6)' : 'none'\n                            }}\n                            onClick={\n                                () => {\n                                    this.setState({\n                                        active: \"home\"\n                                    })\n                                    localStorage.setItem(\"page\", \"home\")\n                                }\n                            }>Home</div>\n                            <div id=\"user-management-menu\" \n                            style={{\n                                borderBottom: this.state.active === 'tasks' ? 'solid 1px rgba(255,255,255,0.6)' : 'none'\n                            }}\n                            onClick={\n                                () => {\n                                    this.setState({\n                                        active: \"tasks\"\n                                    });\n                                    \n                                }\n                            }>Task Management</div>\n                            <div id=\"tasks-menu\" \n                            style={{\n                                borderBottom: this.state.active === 'reports' ? 'solid 1px rgba(255,255,255,0.6)' : 'none'\n                            }}\n                            onClick={\n                                () => {\n                                    this.setState({\n                                        active: \"reports\"\n                                    })\n                                }\n                            }>Reports</div>\n                     \n                     <div style={userAvatar}>\n                        <span><img src={avatar} width=\"24px\" height=\"24px\" alt=\"user avatar\" style={{margin: '.25rem'}}/> {this.state.loggedInUSer[0]}</span>\n                        <Link to={\"/\"}><span>Log out</span></Link>\n                        </div>\n                        \n                            </div>\n                        </section>\n\n                    </Col>\n                    <Col>\n                        <section className=\"body-container\"> \n                            {\n                                this.determineActivePage(this.state.active)\n                            }\n                    </section>\n                    </Col>\n              \n                </Row>\n            </Container>\n        )\n    }\n}\n\nexport default UserDashboard;"]},"metadata":{},"sourceType":"module"}